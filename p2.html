<html>
<head>
    <link rel="stylesheet" href="p2.css">
    <script src="https://www.cs.unm.edu/~angel/WebGL/7E/Common/initShaders.js" defer></script>
    <script src="https://www.cs.unm.edu/~angel/WebGL/7E/Common/MV.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/brent-munsell/graphics/models/project2.js" defer></script>
    <script src="p2.js" defer></script>
</head>
<body>
   <div id="container">
     <div class="app">
        <div class="title">Flight Simulator</div>
         <div class="labels">
            <span class="yaw">Yaw</span>
            <span class="pitch">Pitch</span>
            <span class="roll">Roll</span>
        </div> <!-- end label -->
        <div class="planes">
            <canvas id="xz"></canvas>
            <canvas id="yz"></canvas>
            <canvas id="xy"></canvas>
        </div> <!-- end mission -->
        <div class="sim">
            <canvas id="xyz"></canvas>
            <div class="control">
              <ul>
                <li><button type="button" id="roll-left"></button></li>
                <li><button type="button" id="pitch-up"></button></li>
                <li><button type="button" id="roll-right"></button></li>
              </ul>
              <ul>
                <li><button type="button" id="yaw-left"></button></li>
                <li><button type="button" id="reset"></button></li>
                <li><button type="button" id="yaw-right"></button></li>
              </ul>
              <ul>
                <li><button type="button" class="blank"></button></li>
                <li><button type="button" id="pitch-down"></button></li>
                <li><button type="button" class="blank"></button></li>
              </ul>
            </div> <!-- end control -->
        </div> <!-- end sim -->
     </div> <!-- end app -->
  </div> <!-- end containter -->
</body>
  
<script id="vertex-shader" type="x-shader/x-vertex">

  // Complete the GLSL program

  attribute vec4 vertex;

uniform vec3 props;           // pitch (x), yaw (y), roll (z)
uniform float z_translation;
uniform mat4 View;

void main() {
    float sx = sin(props.x);
    float cx = cos(props.x);
    mat4 Rx = mat4(
        1.0, 0.0, 0.0, 0.0,
        0.0, cx,  sx,  0.0,
        0.0, -sx, cx,  0.0,
        0.0, 0.0, 0.0, 1.0
    );

    float sy = sin(props.y);
    float cy = cos(props.y);
    mat4 Ry = mat4(
        cy, 0.0, -sy, 0.0,
        0.0, 1.0, 0.0, 0.0,
        sy, 0.0, cy,  0.0,
        0.0, 0.0, 0.0, 1.0
    );

    float sz = sin(props.z);
    float cz = cos(props.z);
    mat4 Rz = mat4(
        cz,  sz,  0.0, 0.0,
        -sz, cz,  0.0, 0.0,
        0.0, 0.0, 1.0, 0.0,
        0.0, 0.0, 0.0, 1.0
    );

    mat4 Tz = mat4(
        1.0, 0.0, 0.0, 0.0,
        0.0, 1.0, 0.0, 0.0,
        0.0, 0.0, 1.0, 0.0,
        0.0, 0.0, z_translation, 1.0
    );

    mat4 Model = Rx * Ry * Tz * Rz;

    gl_Position = View * Model * vertex;
}

                

</script>

<script id="fragment-shader" type="x-shader/x-fragment">
 
  precision lowp float;
   
  uniform vec4 color; 
   
  void main() {
      gl_FragColor = color;
  }
   
 </script>

</html>
